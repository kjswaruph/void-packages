# Template file for 'jenkins'
pkgname=jenkins
version=2.492.3
revision=1
create_wrksrc=yes
make_dirs="/var/lib/jenkins 0755 jenkins jenkins"
depends="openjdk17-jre"
short_desc="Open source automation server"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://jenkins.io/"
distfiles="https://mirrors.jenkins.io/war-stable/${version}/jenkins.war"
checksum=90ccf556133c36fdf7653ad710f00d248bf2895f9fbc26ccee0e2d3ba681b01f
# Create 'jenkins' user
system_accounts="jenkins"
jenkins_homedir="/var/lib/jenkins"
jenkins_descr="Jenkins server user"

do_extract() {
	:
}

do_install() {
	vinstall ${XBPS_SRCDISTDIR}/${pkgname}-${version}/jenkins.war 644 opt/jenkins
	vsv jenkins
	vlicense ${FILESDIR}/LICENSE
}
